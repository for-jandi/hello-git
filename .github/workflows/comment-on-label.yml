name: Comment on PR Label

on:
  pull_request:
    types: [labeled]

jobs:
  comment-on-label:
    runs-on: ubuntu-latest
    steps:
      - name: Check label and comment
        uses: actions/github-script@v7
        with:
          script: |
            const labelToCheck = 'backoffice'; // âœ… ì›í•˜ëŠ” ë¼ë²¨ ì´ë¦„
            const commentBody = `
            ## ğŸš€ ìë™ ì½”ë©˜íŠ¸ ì•Œë¦¼
            
            ë¼ë²¨ **\`${labelToCheck}\`** ì´(ê°€) ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.  
            ì•„ë˜ ì‘ì—…ì„ í™•ì¸í•´ì£¼ì„¸ìš”:
            
            - [ ] í•­ëª© 1
            - [ ] í•­ëª© 2
            - ğŸ“Œ ì°¸ê³ : [ë¬¸ì„œ ë§í¬](https://example.com)
            
            ê°ì‚¬í•©ë‹ˆë‹¤! ğŸ™Œ
            `;
            const prNumber = context.payload.pull_request.number;
            const labelName = context.payload.label.name;

            if (labelName === labelToCheck) {
              await github.rest.issues.createComment({
                owner: context.repo.owner,
                repo: context.repo.repo,
                issue_number: prNumber,
                body: commentBody,
              });
            }
